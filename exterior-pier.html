<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Midlakes Exterior Pier</title>
    <link rel="stylesheet" href="/bootstrap.min.css"/>
    <link rel="stylesheet" href="/pannellum.css"/>
    <link rel="stylesheet" href="/style.css"/>
    <script type="text/javascript" src="/pannellum.js"></script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .main-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            padding: 1rem;
            box-sizing: border-box;
        }

        header {
            flex-shrink: 0;
            padding-bottom: 1rem;
        }

        /* Panorama takes ALL remaining space */
        #panorama {
            width: 100%;
            flex: 1;
            min-height: 0;
        }

        /* Thumbnail strip – fixed height, always visible */
        .thumbnail-row {
            flex-shrink: 0;
            padding: 15px 0;
            overflow-x: auto;
            white-space: nowrap;
            background: rgba(0,0,0,0.05);
            border-radius: 8px;
            margin-top: 10px;
        }

        .thumbnail-row img {
            height: 75px;
            width: auto;
            max-width: 100px;
            object-fit: cover;
            margin: 0 4px;
            border: 2px solid #fff;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.25s;
            opacity: 0.85;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .thumbnail-row img:hover,
        .thumbnail-row img.active {
            opacity: 1;
            transform: scale(1.15);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
        }

        /* Mobile optimization */
        @media (max-width: 768px) {
            .main-container { padding: 0.5rem; }
            header h3, header h4 { font-size: 1.1rem; }
            #navigation { font-size: 0.85rem; }
            .thumbnail-row img {
                height: 70px;
                margin: 0 4px;
            }
        }

        @media (max-width: 480px) {
            .thumbnail-row img { height: 65px; }
        }
    </style>
</head>
<body>

<div class="main-container">
    <header class="masthead d-flex flex-column text-center">
      <div class="d-flex flex-row align-items-center justify-content-between mb-3">
        <h3 class="masthead-brand m-0"><a href="/">Midlakes</a></h3>
        <h4 class="m-0" id="filename">Exterior Pier – View 1</h4>
      </div>
      <div id="navigation" class="small"> 
        <a href="/exterior-deck.html">Exterior Deck</a> | 
        <a href="/exterior-grounds.html">Exterior Grounds</a> | 
        <strong><a href="/exterior-pier.html">Exterior Pier</a></strong> |
        <a href="/interior-upstairs.html">Interior Upstairs</a> | 
        <a href="/interior-main.html">Interior Main</a> | 
        <a href="/interior-downstairs.html">Interior Downstairs</a> 
      </div>
    </header>

    <!-- Panorama fills remaining space -->
    <div id="panorama"></div>

    <!-- Thumbnails always visible at bottom -->
    <div class="thumbnail-row text-center">
      <img src="/images/exterior-pier/ext-pier-01.jpeg" data-scene="1" class="active" alt="View 1">
      <img src="/images/exterior-pier/ext-pier-02.jpeg" data-scene="2" alt="View 2">
      <img src="/images/exterior-pier/ext-pier-03.jpeg" data-scene="3" alt="View 3">
      <img src="/images/exterior-pier/ext-pier-04.jpeg" data-scene="4" alt="View 4">
      <img src="/images/exterior-pier/ext-pier-05.jpeg" data-scene="5" alt="View 5">
      <img src="/images/exterior-pier/ext-pier-06.jpeg" data-scene="6" alt="View 6">
      <img src="/images/exterior-pier/ext-pier-07.jpeg" data-scene="7" alt="View 7">
      <img src="/images/exterior-pier/ext-pier-08.jpeg" data-scene="8" alt="View 8">
      <img src="/images/exterior-pier/ext-pier-09.jpeg" data-scene="9" alt="View 9">
      <img src="/images/exterior-pier/ext-pier-10.jpeg" data-scene="10" alt="View 10">
    </div>
</div>

<script>
  const scenes = {
    "1":  { panorama: "/images/exterior-pier/ext-pier-01.jpeg", title: "Exterior Pier – View 1", hfov: 130 },
    "2":  { panorama: "/images/exterior-pier/ext-pier-02.jpeg", title: "Exterior Pier – View 2", hfov: 130 },
    "3":  { panorama: "/images/exterior-pier/ext-pier-03.jpeg", title: "Exterior Pier – View 3", hfov: 130 },
    "4":  { panorama: "/images/exterior-pier/ext-pier-04.jpeg", title: "Exterior Pier – View 4", hfov: 130 },
    "5":  { panorama: "/images/exterior-pier/ext-pier-05.jpeg", title: "Exterior Pier – View 5", hfov: 130 },
    "6":  { panorama: "/images/exterior-pier/ext-pier-06.jpeg", title: "Exterior Pier – View 6", hfov: 130 },
    "7":  { panorama: "/images/exterior-pier/ext-pier-07.jpeg", title: "Exterior Pier – View 7", hfov: 130 },
    "8":  { panorama: "/images/exterior-pier/ext-pier-08.jpeg", title: "Exterior Pier – View 8", hfov: 130 },
    "9":  { panorama: "/images/exterior-pier/ext-pier-09.jpeg", title: "Exterior Pier – View 9", hfov: 130 },
    "10": { panorama: "/images/exterior-pier/ext-pier-10.jpeg", title: "Exterior Pier – View 10", hfov: 130 }
  };

  const viewer = pannellum.viewer('panorama', {
    "default": {
      "firstScene": "1",
      "autoLoad": true,
      "autoRotate": -2,
      "hfov": 130,
      "minHfov": 60,
      "maxHfov": 150,
      "pitch": -10,
      "yaw": 0,
      "showControls": true
    },
    "scenes": scenes
  });

  // Update title on load
  viewer.on('load', function() {
    const current = viewer.getScene();
    document.getElementById('filename').textContent = scenes[current].title;
    if (scenes[current].hfov) viewer.setHfov(scenes[current].hfov, true);
  });

  // Thumbnail clicks
  document.querySelectorAll('.thumbnail-row img').forEach(thumb => {
    thumb.addEventListener('click', function() {
      const sceneId = this.dataset.scene;
      viewer.loadScene(sceneId);
      document.querySelectorAll('.thumbnail-row img').forEach(t => t.classList.remove('active'));
      this.classList.add('active');
    });
  });

  // Responsive resize
  window.addEventListener('resize', () => viewer.resize());
</script>

</body>
</html>
